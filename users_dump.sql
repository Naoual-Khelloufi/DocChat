PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE users (
	id INTEGER NOT NULL, 
	username VARCHAR, 
	password_hash VARCHAR, 
	email VARCHAR, 
	created_at DATETIME, is_admin INTEGER DEFAULT 0, 
	PRIMARY KEY (id)
);
INSERT INTO users VALUES(1,'nawal','scrypt:32768:8:1$ATpzGPUEQopTcHFF$d8b9c461158a3963171a87b3ecf98582226bc518ab483a2f65c210b0e837eeda16ad913f701d1356ca8857b1024fc037adc326f6cac17bec107bd5fbc57c1a14','naoualkhelloufitmp@gmail.com','2025-07-02 14:52:22.486493',0);
INSERT INTO users VALUES(2,'naoual','scrypt:32768:8:1$kCWvXpl3pUZzyGm1$ced7ea01f4c1b2694092f2c780a5d8a687b5b8c894094eb7c3972fbd63aa0bcd9da34da8787da13f9e47bc9119cb319aed0061f09f34580b8909933d3a924faa','khelloufinaoual@gmail.com','2025-07-02 15:00:34.118309',0);
INSERT INTO users VALUES(4,'Loubna','scrypt:32768:8:1$pLjW6V6eLXBLvukp$a5c6695c65a12dca34be0b3c07cee8da91c3500246aa8ed3cafb5186d14eefe723c95cee89ad160a156f8b5d0e9ae8cc48c7fbc3c70485402aaea7f061b4fe1a','','2025-07-10 12:08:32.970636',0);
INSERT INTO users VALUES(6,'nawal2','scrypt:32768:8:1$HR8TyLxvJ6SxN35W$421b6b2b18f9fe7d6d2e6866fce91ee2ea32554fcadf5caf3e741406a12b609af46aa434efad056c012e799ae2577996e708e0c2ac727bdd58765486352f95ba','','2025-07-16 13:17:30.595482',0);
INSERT INTO users VALUES(8,'naoual_kh','scrypt:32768:8:1$XB7inx0tIVwddFow$07eb5e6dcf5c8a62faf3d58b53f8160c47dcc315c63790997a87f8ad48cc2c269b4a87349f1aadd5661a98bac07ab8da0b8320d292aba3bad2192abe0db91171',NULL,'2025-07-17 14:39:57.955863',1);
INSERT INTO users VALUES(9,'loubna_lh','scrypt:32768:8:1$8xZrxbAeo7ha3baJ$f91fabc28ea36aa548a1ac97f508d6fa914d71d9798e45405bd800d60fde415341c119fa7a632729890a4533c8230d8e0bf2c6455037a465a6594f2b07687d4e',NULL,'2025-07-17 17:20:28.862561',1);
INSERT INTO users VALUES(11,'admin','scrypt:32768:8:1$RDlV2YD4wrjfabXK$510c07ad178d085e78fefa200e7003e64d0a05abf1e97c65035b2dcd111bd1d7b8ec83495f9f7f70f477394c714a42636ee17392c2f09d1bb97a21c5b6d8cddd',NULL,'2025-07-27 03:37:17.129070',1);
INSERT INTO users VALUES(12,'user_s','scrypt:32768:8:1$Y9cMIEWEKB7hEnXO$217e71f0a8c4830202cc15a87a990de3857d5a2e3b96dc749fedd38616c0f928d7fa5611952ef3b5dae9045760dd4ff60c4be81e67f6a4536b9a1d0d5466d1d9','','2025-08-23 16:00:51.292878',0);
INSERT INTO users VALUES(13,'nawal_uit','scrypt:32768:8:1$HFhs7rfLEiXdNzd8$9bc80713b3f4915e42046e6d754a37993fed3cde7a75053c9f330e1382ad205f699935717c488caacb761ab89d403710ec20b5cb0d4b258b4baff7b6c280cbe4','naoual.khelloufi@uit.ac.ma','2025-08-23 17:46:28.688197',0);
CREATE TABLE chat_history (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	question TEXT NOT NULL, 
	answer TEXT NOT NULL, 
	timestamp DATETIME, document_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
);
INSERT INTO chat_history VALUES(1,1,'c''est quoi le titre de ce document ?','Le titre de ce document est : "Projet d''application de chatbot pour analyse de contenu" ou plus précisément "Détails du projet d''application de chatbot pour analyse de contenu"','2025-07-11 15:49:43.963880',NULL);
INSERT INTO chat_history VALUES(2,1,'Donne moi un résumer de ce document',replace('Voici un résumé du document :\n\nLe document décrit la conception et le développement d''une application web qui permet aux utilisateurs de télécharger des fichiers, d''auto-entraîner un modèle NLP (Réseau de neurones artificiel) avec ces fichiers et d''utiliser l''intelligence artificielle pour répondre à leurs questions. L''application doit être ergonomique, sécurisée et performante.\n\nLes fonctionnalités clés de l''application sont :\n\n* Téléchargement de fichiers PDF, TXT, CSV, etc.\n* Entraînement automatique du modèle NLP avec les fichiers téléchargés\n* Interface de chat pour poser des questions et obtenir des réponses contextuelles\n\nLe document décrit également les contraintes techniques, telles que la mise en œuvre d''un backend Python ou Node.js, d''un frontend JavaScript avec React ou Angular, ainsi que la nécessité d''une base de données sécurisée.\n\nLes livrables attendus incluent :\n\n* Une documentation technique détaillée\n* Le code source développé avec gestion de versions Git\n* Des instructions pour le déploiement et la maintenance\n* Un prototype opérationnel de l''application\n* Un rapport de stage détaillant le processus de développement, les tests effectués et les perspectives d''évolution\n\nLes critères de réussite incluent :\n\n* Les fonctionnalités complètes et opérationnelles\n* L''intuitivité de l''interface utilisateur\n* La performance et la rapidité des réponses\n* La sécurité des données','\n',char(10)),'2025-07-11 15:59:49.991869',NULL);
INSERT INTO chat_history VALUES(3,1,'Résume moi ce fichier ?',replace('Ce fichier semble être un document de projet pour développer une application web qui analyse le plagiat dans des documents. Voici les points clés que j''ai identifiés :\n\n**Objectif du projet :** Développer une application web qui permet d''analyser le plagiat dans des documents et de générer un rapport détaillé.\n\n**Fonctionnalités :**\n\n1. Gestion de fichiers : l''application doit permettre d''ajouter, de télécharger et de stocker des fichiers.\n2. Analyse NLP : l''application utilise des algorithmes de traitement du langage naturel (NLP) pour analyser les similitudes textuelles entre les documents uploadés et ceux stockés dans la base.\n3. Génération de rapport : l''application génère un rapport détaillé qui présente les similarités, le taux de plagiat global et par sections du document.\n\n**Technologies utilisées :**\n\n1. Backend : Python (Django ou Flask) ou Node.js\n2. Frontend : JavaScript avec frameworks tels que React ou Angular\n3. Modules NLP : intégration de bibliothèques de traitement du langage naturel (par exemple, spaCy, NLTK, ou des modèles transformer)\n4. Base de données : utilisation d''un SGBD relationnel (MySQL, PostgreSQL) ou NoSQL pour stocker les documents et métadonnées.\n5. Sécurité : mise en œuvre de protocoles de chiffrement, gestion des droits d''accès et sauvegarde régulière des données.\n\n**Livrables attendus :**\n\n1. Documentation technique détaillée\n2. Code source complet avec gestion de versions (Git)\n3. Instructions pour le déploiement, la configuration et la maintenance\n4. Site web opérationnel permettant la gestion des fichiers, le téléchargement et l''analyse de plagiat.\n5. Rapport de stage détaillant le processus de conception, les développements réalisés, les tests effectués et les perspectives d''évolution.\n\n**Critères de réussite :**\n\n1. Fonctionnalité complète\n2. Interface utilisateur intuitive\n3. Performance et rapidité\n4. Sécurité des données\n5. Documentation exhaustive','\n',char(10)),'2025-07-17 19:53:55.266965',NULL);
INSERT INTO chat_history VALUES(4,1,'c''est quoi le titre de ce fichier ?','Le titre de ce fichier est : "Projet de système d''analyse de plagiat"','2025-07-23 21:42:27.722957',NULL);
INSERT INTO chat_history VALUES(5,1,'donne moi un petit résumer de ce fichier',replace('Ce fichier semble être une proposition de projet pour développer une plateforme d''analyse de plagiat en ligne. Voici un résumé des principaux points :\n\n**Objectif :** Développer une plateforme qui permet aux utilisateurs de téléverser des documents et d''y détecter les similitudes avec des documents existants.\n\n**Fonctionnalités :**\n\n1. Gestion de fichiers : permettre à l''utilisateur de téléverser des documents.\n2. Analyse NLP (Natural Language Processing) : utiliser des algorithmes pour analyser les similitudes textuelles entre le document téléversé et les documents existants.\n3. Génération de rapport : générer un rapport détaillé avec les passages ou segments de texte similaires, ainsi que le taux de plagiat global et par sections du document.\n\n**Contraintes techniques :**\n\n1. Technologies web : Python (Django, Flask) ou Node.js pour le backend, JavaScript avec frameworks tels que React ou Angular pour le frontend.\n2. Modules NLP : intégrer des bibliothèques de traitement du langage naturel (par exemple, spaCy, NLTK).\n3. Base de données : utiliser un SGBD relationnel (MySQL, PostgreSQL) ou NoSQL pour stocker les documents et métadonnées.\n\n**Critères de réussite :**\n\n1. Fonctionnalité complète\n2. Interface utilisateur intuitive\n3. Performance et rapidité\n4. Sécurité des données\n\nCe projet semble nécessiter une collaboration avec un équipe de développeurs, des experts en NLP et des spécialistes de la sécurité pour garantir la qualité et la fiabilité de la plateforme.','\n',char(10)),'2025-07-23 21:50:16.613145',NULL);
INSERT INTO chat_history VALUES(6,1,'c''est quoi le titre de ce fichier ?','Le titre de ce fichier est : "Description Fonctionnelle"','2025-07-24 01:15:54.940736',NULL);
INSERT INTO chat_history VALUES(7,1,'de quoi parle ce fichier ?',replace('Ce fichier semble être un document de projet ou une description d''un projet de développement logiciel. Il contient des informations sur le sujet du projet, les objectifs, les technologies utilisées, les fonctionnalités attendues et les critères de réussite.\n\nPlus précisément, il semble traiter de la création d''une application web pour analyser et détecter le plagiat dans les documents texte. Le fichier présente un plan détaillé du projet, y compris les phases de conception, développement, tests et livraison. Il fournit également des informations sur les technologies utilisées (par exemple, Python, Django, React), les bibliothèques NLP (par exemple, spaCy, NLTK) et les exigences en matière de sécurité.\n\nEn résumé, ce fichier est une description d''un projet de développement logiciel visant à créer une application web pour analyser le plagiat dans les documents texte.','\n',char(10)),'2025-07-26 13:50:06.040738',NULL);
INSERT INTO chat_history VALUES(9,1,'c''est quoi le titre de ce fichier ?','Le titre de ce fichier est : NLP – Plagiat System (Site Web).','2025-07-26 15:06:35.861513',NULL);
INSERT INTO chat_history VALUES(10,1,'extrait moi l''introduction de ce fichier ?',replace('L''introduction est la première section du document. Voici l''extrait :\n\n"Le projet consiste à développer une application web permettant la détection de plagiat entre un ensemble de documents préalablement enregistrés dans une base de données et un nouveau document uploadé par l’utilisateur. Grâce à l’utilisation des techniques avancées de traitement du langage naturel (NLP), le système analysera le contenu des fichiers afin de repérer les similitudes et de générer un rapport détaillé sur les éventuels cas de plagiat."','\n',char(10)),'2025-07-26 15:09:24.721404',NULL);
INSERT INTO chat_history VALUES(12,1,'résume moi ce fichier ',replace('Le fichier décrit un projet de développement d''une application web pour détecter les cas de plagiat entre des documents. L''application doit permettre à l''utilisateur d''ajouter et de gérer ses fichiers dans une base de données, comparer un nouveau document aux documents existants en utilisant des techniques de traitement du langage naturel (NLP), générer un rapport détaillé sur les éventuels cas de plagiat et assurer la sécurité et la confidentialité des données.\n\nLes objectifs du projet sont :\n\n* Développer une plateforme web conviviale\n* Mettre en place un mécanisme automatisé pour comparer un nouveau document aux documents existants\n* Générer un rapport détaillé mettant en évidence les passages similaires et le taux de plagiat\n* Assurer la sécurité et la confidentialité des données\n* Garantir une performance et une scalabilité rapides\n\nLe projet doit être réalisé en utilisant des technologies telles que Python, Node.js, JavaScript, React ou Angular, ainsi qu'' des bibliothèques de traitement du langage naturel comme spaCy ou NLTK.','\n',char(10)),'2025-07-26 16:18:23.417993',NULL);
INSERT INTO chat_history VALUES(13,1,'de quoi parle ce fichier ?',replace('Ce fichier semble être lié à un projet de stage sur le traitement du langage naturel (NLP) et spécifiquement sur le modèle Retrieval Augmented Generation (RAG). Il présente une description détaillée d''un système web interactif qui permettrait aux utilisateurs de télécharger des fichiers, d''entraîner un modèle NLP de type RAG sur ces documents et d''interagir avec ces données via une interface de chat intuitive.\n\nEn particulier, le fichier semble aborder les aspects techniques du projet, tels que l''architecture du système, les choix technologiques, la conception de l''interface utilisateur, la sécurité des données, la scalabilité et la compatibilité. Il fournit également des informations sur les objectifs du projet, les livrables attendus et le planning prévisionnel.\n\nEn résumé, ce fichier semble être une documentation technique pour un projet de stage lié à l''NLP et au modèle RAG, qui vise à développer un système web interactif pour exploiter des techniques avancées de traitement du langage naturel.','\n',char(10)),'2025-07-26 22:48:07.522226',NULL);
CREATE TABLE documents (
	id INTEGER NOT NULL, 
	owner_id INTEGER NOT NULL, 
	path VARCHAR, 
	title VARCHAR, 
	uploaded DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(owner_id) REFERENCES users (id)
);
INSERT INTO documents VALUES(1,1,'data/docs/user_1/NLP – Plagiat System .pdf','NLP – Plagiat System .pdf','2025-07-26 13:43:48.464695');
INSERT INTO documents VALUES(2,1,'data/docs/user_1/NLP - RAG SYSTEM .pdf','NLP - RAG SYSTEM .pdf','2025-07-26 22:42:34.883173');
INSERT INTO documents VALUES(3,1,'data/docs/user_1/generic_resume-1.pdf','generic_resume-1.pdf','2025-08-23 15:05:16.994827');
INSERT INTO documents VALUES(4,1,'data/docs/user_1/Correction_travaux_pratiques_Signal et Image_Lience IAID (1).pdf','Correction_travaux_pratiques_Signal et Image_Lience IAID (1).pdf','2025-08-23 15:34:05.333609');
INSERT INTO documents VALUES(5,12,'data/docs/user_12/generic_resume-1.pdf','generic_resume-1.pdf','2025-08-23 16:01:31.956426');
INSERT INTO documents VALUES(6,1,'data/docs/user_1/ai-engineer-llm-rag.pdf','ai-engineer-llm-rag.pdf','2025-08-23 17:06:11.319897');
CREATE INDEX ix_users_id ON users (id);
CREATE UNIQUE INDEX ix_users_username ON users (username);
CREATE INDEX ix_chat_history_id ON chat_history (id);
CREATE UNIQUE INDEX uq_users_email_not_null
ON users(email)
WHERE email IS NOT NULL AND trim(email) <> '';
COMMIT;
